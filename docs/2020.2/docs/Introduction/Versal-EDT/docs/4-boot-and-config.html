


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../../_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="../../../_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="../../../_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="../../../_static/js/linkid.js"></script>		
    <script type="text/javascript" src="../../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="System Design Example using Scalar Engine and Adaptable Engine" href="5-system-design-example.html" />
    <link rel="prev" title="Debugging Using the Vitis Software Platform" href="3-debugging.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Embedded Design Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">简体中文</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-cn/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Versal ACAP</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-cips-noc-ip-config.html">Versal ACAP CIPS and NoC (DDR) IP Core Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-debugging.html">Debugging Using the Vitis Software Platform</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Boot and Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-software">System Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#platform-loader-and-manager">Platform Loader and Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="#u-boot">U-Boot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#arm-trusted-firmware">Arm Trusted Firmware</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generating-boot-image-for-standalone-application">Generating Boot Image for Standalone Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boot-sequence-for-sd-boot-mode">Boot Sequence for SD-Boot Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boot-sequence-for-qspi-boot-mode">Boot Sequence for QSPI Boot Mode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="5-system-design-example.html">System Design Example using Scalar Engine and Adaptable Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-system-design-example-HSDP.html">System Design Example for High-Speed Debug Port with SmartLynq+ Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="A-creating-plm.html">Appendix: Creating the PLM</a></li>
</ul>
<p class="caption"><span class="caption-text">Zynq UltraScale+ MPSoC</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/1-introduction.html">How Zynq UltraScale+ Devices Offer a Single Chip Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/2-getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/3-system-configuration.html">Zynq UltraScale+ MPSoC Processing System Configuration with Vivado</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/4-build-sw-for-ps-subsystems.html">Building Standalone Software for PS Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/5-debugging-with-vitis-debugger.html">Debugging Standalone Applications with the Vitis Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/6-build-linux-sw-for-ps.html">Building and Debugging Linux Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/7-design1-using-gpio-timer-interrupts.html">Design Example 1: Using GPIOs, Timers, and Interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZynqMPSoC-EDT/8-boot-and-configuration.html">Boot and Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Zynq-7000 Devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/1-introduction.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/2-using-zynq.html">Using the Zynq SoC Processing System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/3-debugging-vitis.html">Debugging with the Vitis Software Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/4-linux-for-zynq.html">Building and Debugging Linux Applications for Zynq-7000 SoCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/5-using-gp-port-zynq.html">Using the GP Port in Zynq Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/6-using-hp-port.html">Using the HP Slave Port with AXI CDMA IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/7-linux-booting-debug.html">Linux Boot Image Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Zynq7000-EDT/8-custom-ip-driver-linux.html">Creating Custom IP and Device Drivers for Linux</a></li>
</ul>
<p class="caption"><span class="caption-text">Vitis Performance Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/README.html">About this Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/1-introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/2-system-performance-modeling-project.html">System Performance Modeling Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/3-monitor-framework.html">Monitor Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/4-getting-started-with-SPM.html">Getting Started with SPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/5-evaluating-software-performance.html">Evaluating Software Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/6-evaluating-high-performance-ports.html">Evaluating High-Performance Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/7-evaluating-DDR-controller-settings.html">Evaluating DDR Controller Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/8-evaluating-memory-hierarchy-ACP.html">Evaluating Memory Hierarchy and the ACP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/9-using-spa-with-custom-target.html">Using SPA with a Custom Target</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/10-end-to-end-performance-analysis.html">End-To-End Performance Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SPA-UG/docs/A-performance-checklist.html">Performance Checklist</a></li>
</ul>
<p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master">Master</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../_sources/Introduction/Versal-EDT/docs/4-boot-and-config.md.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Embedded Design Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Boot and Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/Introduction/Versal-EDT/docs/4-boot-and-config.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="boot-and-configuration">
<h1>Boot and Configuration<a class="headerlink" href="#boot-and-configuration" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this chapter is to show how to integrate and load boot loaders, bare-metal applications (For APU/RPU), and the Linux Operating System for a Versal™ ACAP. This chapter discusses the following topics:</p>
<ul class="simple">
<li><p>System software: PLM, Arm® trusted firmware (ATF), U-Boot</p></li>
<li><p>Steps to generate boot image for standalone application.</p></li>
<li><p>Boot sequences for SD-boot, and QSPI and OSPI boot modes.</p></li>
</ul>
<p>You can achieve these configurations using the Vitis™ software platform and the PetaLinux tool flow. While <a class="reference internal" href="2-cips-noc-ip-config.html"><span class="doc">Versal ACAP CIPS and NoC (DDR) IP Core Configuration</span></a> focused only on creating software blocks for each processing unit in the PS, this chapter explains how these blocks can be loaded as a part of a bigger system.</p>
<div class="section" id="system-software">
<h2>System Software<a class="headerlink" href="#system-software" title="Permalink to this headline">¶</a></h2>
<p>The following system software blocks cover most of the boot and configuration for this chapter.</p>
<div class="section" id="platform-loader-and-manager">
<h3>Platform Loader and Manager<a class="headerlink" href="#platform-loader-and-manager" title="Permalink to this headline">¶</a></h3>
<p>The platform loader and manager (PLM) is the software that runs on one of the dedicated processors in the Platform Management Controller (PMC) block of the Versal ACAP. It is responsible for boot and run time management, including platform management, error management, partial reconfiguration, and subsystem restart of the device. The PLM can reload images, and load partial PDIs and service interrupts. The PLM reads the programmable device image from the boot source and configures the components of the system including the NoC initialization, DDR memory initialization, programmable logic, and processing system, and then completes the device boot.</p>
</div>
<div class="section" id="u-boot">
<h3>U-Boot<a class="headerlink" href="#u-boot" title="Permalink to this headline">¶</a></h3>
<p>U-Boot acts as a secondary boot loader. After the PLM handoff, U-Boot loads Linux onto the Arm A72 APU and configures the rest of the peripherals in the processing system based on the board configuration. U-Boot can fetch images from different memory sources like eMMC, SATA, TFTP, SD, and QSPI. U-Boot can be configured and built using the PetaLinux tool flow.</p>
</div>
<div class="section" id="arm-trusted-firmware">
<h3>Arm Trusted Firmware<a class="headerlink" href="#arm-trusted-firmware" title="Permalink to this headline">¶</a></h3>
<p>The Arm Trusted Firmware (ATF) is a transparent bare-metal application layer executed in Exception Level 3 (EL3) on the APU. The ATF includes a Secure Monitor layer for switching between the secure and the non-secure world. The Secure Monitor calls and implementation of Trusted Board Boot Requirements (TBBR) makes the ATF layer a mandatory requirement to load Linux on the APU on Versal ACAP. The PLM loads the ATF to be executed by the APU, which keeps running in EL3 awaiting a service request. The PLM also loads U-Boot into DDR to be executed by the APU, which loads Linux OS in SMP mode on the APU. The ATF (<code class="docutils literal notranslate"><span class="pre">bl31.elf</span></code>) is built by default in PetaLinux and can be found in the PetaLinux Project images directory.</p>
</div>
</div>
<div class="section" id="generating-boot-image-for-standalone-application">
<h2>Generating Boot Image for Standalone Application<a class="headerlink" href="#generating-boot-image-for-standalone-application" title="Permalink to this headline">¶</a></h2>
<p>The Vitis software platform does not support automatic boot image creation for Versal architecture. To generate a bootable image, use Bootgen, which is a command line utility which is part of the Vitis software platform package. The principle function of Bootgen is to integrate the various partitions of the bootable image. Bootgen uses a Bootgen Image Format (BIF) file as an input and generates a single file image in binary BIN or PDI format. It outputs a single file image which can be loaded into non-volatile memory (NVM) (QSPI or SD Card). Use the following steps to generate a PDI/BIN file:</p>
<ol>
<li><p>Open the XSCT Console view in the Vitis IDE, if not already open, by clicking on <strong>Window → Show View</strong>. Type <code class="docutils literal notranslate"><span class="pre">xsct</span> <span class="pre">console</span></code> within the search bar of the Show View wizard. Click <strong>Open</strong> to open the console.</p>
<p><img alt="../../../_images/image49.png" src="../../../_images/image49.png" /></p>
</li>
<li><p>Create a folder where you want to generate the boot image by typing the following command in the XSCT Console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">bootimages</span>
<span class="n">cd</span> <span class="n">bootimages</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p>Copy the sd_boot.bif file present within the <code class="docutils literal notranslate"><span class="pre">&lt;design-package&gt;/&lt;board-name&gt;/standalone/&lt;cips</span> <span class="pre">or</span> <span class="pre">cips_noc&gt;/&lt;apu</span> <span class="pre">or</span> <span class="pre">rpu&gt;/</span></code> directory, the PDI file present within <code class="docutils literal notranslate"><span class="pre">&lt;Vitis</span> <span class="pre">platform</span> <span class="pre">project&gt;/hw/&lt;.pdi-file&gt;</span></code>, and the application elf files present within the <code class="docutils literal notranslate"><span class="pre">&lt;Vitis</span> <span class="pre">application-project&gt;/Debug</span></code> folder to the folder created in step 2.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If needed, open the <code class="docutils literal notranslate"><span class="pre">sd_boot.bif</span></code> file in a text editor of your choice and modify the name of the PDI or elfs as per your Vitis projects.</p>
</div></blockquote>
</li>
<li><p>Run the following command in the XSCT Console view.</p>
<p><code class="docutils literal notranslate"><span class="pre">bootgen</span> <span class="pre">-image</span> <span class="pre">&lt;bif</span> <span class="pre">filename&gt;.bif</span> <span class="pre">-arch</span> <span class="pre">versal</span> <span class="pre">-o</span> <span class="pre">BOOT.BIN</span></code></p>
<p>The following log is displayed in the XSCT Console view.</p>
<p><img alt="../../../_images/image51.jpeg" src="../../../_images/image51.jpeg" /></p>
</li>
</ol>
</div>
<div class="section" id="boot-sequence-for-sd-boot-mode">
<h2>Boot Sequence for SD-Boot Mode<a class="headerlink" href="#boot-sequence-for-sd-boot-mode" title="Permalink to this headline">¶</a></h2>
<p>The following steps demonstrate the boot sequence for the SD-boot mode.</p>
<ol>
<li><p>To verify the image, copy the required images to the SD card:</p>
<ul class="simple">
<li><p>For standalone, copy the <code class="docutils literal notranslate"><span class="pre">BOOT.BIN</span></code> to the SD card.</p></li>
<li><p>For Linux images, navigate to the <code class="docutils literal notranslate"><span class="pre">&lt;plnx-proj-root&gt;/images/linux</span></code> and copy <code class="docutils literal notranslate"><span class="pre">BOOT.BIN</span></code>, <code class="docutils literal notranslate"><span class="pre">image.ub</span></code>, and <code class="docutils literal notranslate"><span class="pre">boot.scr</span></code> to the SD card.</p></li>
</ul>
<blockquote>
<div><p><strong><em>Note</em>:</strong> You can either boot the VCK190/VMK180 board using the   ready-to-test images as part of the released package path, <code class="docutils literal notranslate"><span class="pre">&lt;design-package&gt;/&lt;vck190</span> <span class="pre">or</span> <span class="pre">vmk180&gt;/linux/bootimages</span></code>, or refer to <a class="reference external" href="../docs/5-system-design-example.html#example-project-creating-linux-images-using-petalinux">Example Project: Creating Linux Images Using PetaLinux</a> to build your own set of Linux images using the PetaLinux tool.</p>
</div></blockquote>
</li>
<li><p>Load the SD card into the VMK180/VCK190 board, in the J302 connector.</p></li>
<li><p>Connect the Micro USB cable into the VMK180/VCK190 Board Micro USB port (J207), and the other end into an open USB port on the host machine.</p></li>
<li><p>Configure the board to boot in SD-Boot mode by setting switch SW1 as shown in the following figure.</p>
<p><img alt="../../../_images/image52.png" src="../../../_images/image52.png" /></p>
</li>
<li><p>Connect 12V power to the VMK180/VCK190 6-Pin Molex connector.</p></li>
<li><p>Start a terminal session, using Tera Term or Minicom depending on the host machine being used. Set the COM port and baud rate for your system, as shown in the following figure.</p>
<p><img alt="../../../_images/image46.png" src="../../../_images/image46.png" /></p>
</li>
<li><p>For port settings, verify COM Port in the device manager and select the com port with interface-0.</p></li>
<li><p>Turn on the VMK180/VCK190 board using the power switch (SW13).</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> For standalone images, the respective logs are displayed on the terminal. For Linux images, you can log in using user: root and pw: root after the boot-up sequence on the terminal. After that, run gpiotest on the terminal. You will see logs as shown in the following figure.
`
<img alt="../../../_images/led_example_console_prints.PNG" src="../../../_images/led_example_console_prints.PNG" /></p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="boot-sequence-for-qspi-boot-mode">
<h2>Boot Sequence for QSPI Boot Mode<a class="headerlink" href="#boot-sequence-for-qspi-boot-mode" title="Permalink to this headline">¶</a></h2>
<p>This section demonstrates the boot sequence for the QSPI boot mode. For this, you need to connect a QSPI daughter card (part number: X_EBM-01, REV_A01) as shown in the following figure:</p>
<p><em>Figure 2:</em> <strong>Daughter Card on VCK190</strong></p>
<p><img alt="QSPI-boot-halfform-factor-module" src="../../../_images/image54.jpeg" /></p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> For standalone, copy the BOOT.BIN to the SD card. For Linux images, you can either boot the VCK190/VMK180 board using the ready-to-test images as part of the released package path, <code class="docutils literal notranslate"><span class="pre">&lt;design-package&gt;/&lt;vck190</span> <span class="pre">or</span> <span class="pre">vmk180&gt;/linux/bootimages</span></code>, or refer to <a class="reference external" href="./5-system-design-example.html#example-project-creating-linux-images-using-petalinux">Example Project: Creating Linux Images Using PetaLinux</a> to build your own set of Linux images using the PetaLinux tool.</p>
</div></blockquote>
<p>You need to flash the images to the daughter card, using the following steps:</p>
<ol>
<li><p>With the card powered off, install the daughter card.</p></li>
<li><p>Set the boot mode switch SW1 to ON-OFF-OFF-OFF as shown in the following figure.</p>
<p><img alt="../../../_images/image55.jpeg" src="../../../_images/image55.jpeg" /></p>
</li>
<li><p>Insert the SD card in the SD card slot on the board, as follows:</p>
<p><img alt="../../../_images/image56.jpeg" src="../../../_images/image56.jpeg" /></p>
</li>
<li><p>Power on the board. At the U-Boot stage, when the message <em>“Hit any key to stop autoboot:”</em> appears, hit any key, then run the following commands to flash the images on the QSPI daughter card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sf probe 0 0 0
sf erase 0x0 0x10000000
fatload mmc 0 0x80000 boot.bin
sf write 0x80000 0x0 ${filesize}
fatload mmc 0 0x80000 image.ub
sf write 0x80000 0xF00000 0x6400000
fatload mmc 0 0x80000 boot.scr
sf write 0x80000 0x7F80000 0x999
</pre></div>
</div>
</li>
<li><p>After flashing the images, turn off the power switch on the board, and change the boot mode pin settings to QSPI mode, that is ON-OFF-ON-ON as follows:</p>
<p><img alt="../../../_images/image52.png" src="../../../_images/image52.png" /></p>
</li>
<li><p>Power cycle the board. The board now boots up using the images in the QSPI flash.</p></li>
</ol>
<p>© Copyright 2020-2021 Xilinx, Inc.</p>
<p><em>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at <a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.</em></p>
<p><em>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="5-system-design-example.html" class="btn btn-neutral float-right" title="System Design Example using Scalar Engine and Adaptable Engine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="3-debugging.html" class="btn btn-neutral float-left" title="Debugging Using the Vitis Software Platform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
  </div>	  
      </div>
    </section>


  




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>     	    
	    
	    
  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>