


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>		
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Debugging Standalone Applications with the Vitis Debugger" href="5-debugging-with-vitis-debugger.html" />
    <link rel="prev" title="Zynq UltraScale+ MPSoC Processing System Configuration with Vivado" href="3-system-configuration.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Embedded Design Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">简体中文</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-cn/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Versal ACAP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/1-getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/2-cips-noc-ip-config.html">Versal ACAP CIPS and NoC (DDR) IP Core Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/3-debugging.html">Debugging Using the Vitis Software Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/4-boot-and-config.html">Boot and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/5-system-design-example.html">System Design Example using Scalar Engine and Adaptable Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/6-system-design-example-HSDP.html">System Design Example for High-Speed Debug Port with SmartLynq+ Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/docs/A-creating-plm.html">Appendix: Creating the PLM</a></li>
</ul>
<p class="caption"><span class="caption-text">Zynq UltraScale+ MPSoC</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-introduction.html">How Zynq UltraScale+ Devices Offer a Single Chip Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-system-configuration.html">Zynq UltraScale+ MPSoC Processing System Configuration with Vivado</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building Standalone Software for PS Subsystems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example-2-creating-a-platform-project-using-vitis-ide">Example 2: Creating a Platform Project Using Vitis IDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-input-and-output-files">Example Input and Output Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-platform-project">Creating the Platform Project</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-3-running-the-hello-world-application-from-arm-cortex-a53">Example 3: Running the “Hello World” Application from Arm Cortex-A53</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-and-output-files">Input and Output Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#board-setup">Board Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-the-serial-port">Connecting the Serial Port</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-hello-world-application-on-arm-cortex-a53">Creating a Hello World Application on Arm Cortex-A53</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-hello-world-on-the-board">Running Hello World on the Board</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-just-happened">What Just Happened?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#one-step-further">One Step Further</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#additional-information">Additional Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#domain">Domain</a></li>
<li class="toctree-l3"><a class="reference internal" href="#board-support-package">Board Support Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standalone-bsp">Standalone BSP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-4-running-the-hello-world-application-from-arm-cortex-r5">Example 4: Running the “Hello World” Application from Arm Cortex-R5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Input and Output Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-standalone-bsp-domain-for-cortexr5-0">Creating a Standalone BSP Domain for cortexr5_0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">What Just Happened?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-hello-world-application-on-arm-cortex-r5f">Creating a “Hello World” Application on Arm Cortex-R5F</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-hello-world-application-on-arm-cortex-r5f">Running the “Hello World” Application on Arm Cortex-R5F</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-5-create-a-bare-metal-system-application-project-in-the-vitis-ide">Example 5: Create a Bare-Metal System Application Project in the Vitis IDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Input and Output Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifying-the-hello-a53-application-source-code">Modifying the hello_a53 Application Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-custom-bare-metal-application-for-an-arm-cortex-r5-based-rpu">Creating a Custom Bare-Metal Application for an Arm Cortex-R5 Based RPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifying-the-linker-script-for-testapp-r5">Modifying the Linker Script for testapp_r5</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifying-the-board-support-package-for-testapp-r5">Modifying the Board Support Package for testapp_r5</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-hello-system-system-project-on-hardware">Running the hello_system System Project on Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">What Just Happened?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reviewing-bootloader-projects-in-the-platform">Reviewing Bootloader Projects in the Platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reviewing-fsbl-in-the-platform">Reviewing FSBL in the Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reviewing-the-pmu-firmware-in-the-platform">Reviewing the PMU Firmware in the Platform</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="5-debugging-with-vitis-debugger.html">Debugging Standalone Applications with the Vitis Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-build-linux-sw-for-ps.html">Building and Debugging Linux Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-design1-using-gpio-timer-interrupts.html">Design Example 1: Using GPIOs, Timers, and Interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="8-boot-and-configuration.html">Boot and Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Zynq-7000 Devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/1-introduction.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/2-using-zynq.html">Using the Zynq SoC Processing System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/3-debugging-vitis.html">Debugging with the Vitis Software Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/4-linux-for-zynq.html">Building and Debugging Linux Applications for Zynq-7000 SoCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/5-using-gp-port-zynq.html">Using the GP Port in Zynq Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/6-using-hp-port.html">Using the HP Slave Port with AXI CDMA IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/7-linux-booting-debug.html">Linux Boot Image Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/8-custom-ip-driver-linux.html">Creating Custom IP and Device Drivers for Linux</a></li>
</ul>
<p class="caption"><span class="caption-text">Vitis Performance Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/README.html">About this Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/1-introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/2-system-performance-modeling-project.html">System Performance Modeling Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/3-monitor-framework.html">Monitor Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/4-getting-started-with-SPM.html">Getting Started with SPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/5-evaluating-software-performance.html">Evaluating Software Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/6-evaluating-high-performance-ports.html">Evaluating High-Performance Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/7-evaluating-DDR-controller-settings.html">Evaluating DDR Controller Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/8-evaluating-memory-hierarchy-ACP.html">Evaluating Memory Hierarchy and the ACP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/9-using-spa-with-custom-target.html">Using SPA with a Custom Target</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/10-end-to-end-performance-analysis.html">End-To-End Performance Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/docs/A-performance-checklist.html">Performance Checklist</a></li>
</ul>
<p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master">Master</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/Introduction/ZynqMPSoC-EDT/4-build-sw-for-ps-subsystems.md.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Embedded Design Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Building Standalone Software for PS Subsystems</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Introduction/ZynqMPSoC-EDT/4-build-sw-for-ps-subsystems.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-standalone-software-for-ps-subsystems">
<h1>Building Standalone Software for PS Subsystems<a class="headerlink" href="#building-standalone-software-for-ps-subsystems" title="Permalink to this headline">¶</a></h1>
<p>This chapter lists the steps to configure and build software for PS subsystems.</p>
<p>In the previous chapter, <a class="reference internal" href="3-system-configuration.html"><span class="doc">Zynq UltraScale+ MPSoC Processing System Configuration</span></a>, you created and exported the hardware
design from Vivado. The exported XSA file contains the hardware
handoff, the processing system initialization (<code class="docutils literal notranslate"><span class="pre">psu_init</span></code>),
and the PL bitstream (if the hardware is exported as post-implementation). In this chapter, you will import the XSA into the Vitis™ IDE to generate software for the processing system.</p>
<p>You will use the Vitis IDE to perform the following tasks:</p>
<ol class="simple">
<li><p>Create a platform project for the hardware XSA. The first stage boot loader (FSBL) and PMU firmware for the PMU (platform management unit) will be created as boot components in this platform project.</p></li>
<li><p>Create bare-metal applications for the application processing unit (APU).</p></li>
<li><p>Create a system project for the APU and real time processing unit (RPU).</p></li>
</ol>
<div class="section" id="example-2-creating-a-platform-project-using-vitis-ide">
<h2>Example 2: Creating a Platform Project Using Vitis IDE<a class="headerlink" href="#example-2-creating-a-platform-project-using-vitis-ide" title="Permalink to this headline">¶</a></h2>
<p>The main processing units in the Zynq UltraScale+ processing system are listed below:</p>
<ul class="simple">
<li><p><strong>Application processing unit:</strong> Quad-core Arm® Cortex™-A53 MPCore processors</p></li>
<li><p><strong>Real time processing unit:</strong> Dual-core Arm Cortex™-R5F MPCore processors</p></li>
<li><p><strong>Graphics processing unit:</strong> Arm Mali™ 400 MP2 GPU</p></li>
<li><p><strong>Platform management unit (PMU):</strong> Xilinx MicroBlaze™ based platform management unit</p></li>
</ul>
<p>The platform project reads in hardware information from the XSA file and contains the runtime environment for the above processing units. Application software can link against the libraries generated in the platform project.</p>
<div class="section" id="example-input-and-output-files">
<h3>Example Input and Output Files<a class="headerlink" href="#example-input-and-output-files" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Input: hardware handoff XSA file (<code class="docutils literal notranslate"><span class="pre">edt_zcu102_wrapper.xsa</span></code>)</p></li>
<li><p>Output:</p>
<ul>
<li><p>Standalone BSP libraries for Arm Cortex-A53</p></li>
<li><p>Boot components (FSBL: <code class="docutils literal notranslate"><span class="pre">zynqmp.elf</span></code> and PMUFW: <code class="docutils literal notranslate"><span class="pre">pmufw.elf</span></code>)</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="creating-the-platform-project">
<h3>Creating the Platform Project<a class="headerlink" href="#creating-the-platform-project" title="Permalink to this headline">¶</a></h3>
<p>The following steps show how to create a platform project with a standalone domain for Arm Cortex-A53.</p>
<ol>
<li><p>Launch the Vitis IDE:</p>
<ul class="simple">
<li><p>From the open Vivado IDE, click <strong>Tools → Launch Vitis IDE</strong>; or</p></li>
<li><p>From Windows Start menu, select <strong>Xilinx Design Tools → Xilinx Vitis 2020.2</strong>; or</p></li>
<li><p>Double-click the <code class="docutils literal notranslate"><span class="pre">C:\Xilinx\Vitis\2020.2\bin\vitis.bat</span></code> file.</p></li>
</ul>
</li>
<li><p>Select the workspace <code class="docutils literal notranslate"><span class="pre">C\edt\edt_zcu102_workspace</span></code> and continue.</p>
<p><img alt="Vitis IDE Launcher" src="../../_images/image21.png" /></p>
<blockquote>
<div><p><strong>Note:</strong> If the directory doesn’t exist, Vitis will create it.</p>
</div></blockquote>
</li>
<li><p>In the Vitis IDE, go to <strong>File → New → Platform Project</strong>.</p></li>
<li><p>In the Create New Platform page, enter the platform name <code class="docutils literal notranslate"><span class="pre">zcu102_edt</span></code> and click <strong>Next</strong>.</p></li>
<li><p>In the Platform view, go with the default tab <strong>Create from hardware specification (XSA)</strong>.</p>
<blockquote>
<div><p><strong>Note:</strong> Use the <strong>Select a platform from repository</strong> tab when you have a pre-built platform and you’d like to copy it to local to modify it.</p>
</div></blockquote>
</li>
<li><p>Click <strong>Browse…</strong> to select the XSA file exported from previous chapter.</p></li>
<li><p>Select the preferred operating system, processor, and architecture.</p></li>
<p><img alt="Create a new platform from XSA" src="../../_images/image221.png" /></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Screen</th>
<th>Property</th>
</tr>
</thead>
<tbody>
<tr>
<td>Operating System</td>
<td>Standalone</td>
</tr>
<tr>
<td>Processor</td>
<td>psu_cortexa53_0</td>
</tr>
<tr>
<td>Architecture</td>
<td>64-bit</td>
</tr>
<tr>
<td>Generate Boot Components</td>
<td>Keep it checked</td>
</tr>
<tr>
<td>Target processor to create FSBL</td>
<td>psu_cortexa53_0</td>
</tr>
</tbody>
</table></li>
<li><p>Click <strong>Finish</strong>.</p></li>
<li><p>In a few minutes, the Vitis IDE generates the platform. The files
that are generated are displayed in the explorer window as shown
in the following figure.</p>
<p><img alt="../../_images/image232.png" src="../../_images/image232.png" /></p>
<ul class="simple">
<li><p>There is a standalone domain in the platform under psu_cortexa53_0 processor. New applications for Cortex-A53 can link against it.</p></li>
<li><p>Default domains for FSBL and PMU firmware come with the platform project when <strong>Generate Boot Components</strong> is selected during application or platform project creation.</p></li>
<li><p>You are free to add and remove domains in the platform project.</p></li>
<li><p>You can customize the domain configurations.</p></li>
</ul>
</li>
<li><p>Build the hardware by right-clicking the platform, then
selecting <strong>Build Project</strong>.</p>
<p><img alt="../../_images/image241.jpeg" src="../../_images/image241.jpeg" /></p>
<p>The platform project is ready. You can create applications using this platform and test on zcu102 hardware.</p>
<p><strong>Note</strong> The project build process builds the standalone BSP, FSBL, and PMUFW. FSBL and PMUFW have their own BSP. The build process takes some time.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="example-3-running-the-hello-world-application-from-arm-cortex-a53">
<h2>Example 3: Running the “Hello World” Application from Arm Cortex-A53<a class="headerlink" href="#example-3-running-the-hello-world-application-from-arm-cortex-a53" title="Permalink to this headline">¶</a></h2>
<p>In this example, you will learn how to manage the board settings, make
cable connections, connect to the board through your PC, and run a
simple “Hello World” software application from Arm Cortex-A53 in JTAG
mode using the System Debugger in the Vitis IDE.</p>
<div class="section" id="input-and-output-files">
<h3>Input and Output Files<a class="headerlink" href="#input-and-output-files" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Input: standalone BSP libraries in the platform created in the previous example</p></li>
<li><p>Output: <code class="docutils literal notranslate"><span class="pre">hello.elf</span></code> for Arm Cortex-A53</p></li>
</ul>
</div>
<div class="section" id="board-setup">
<h3>Board Setup<a class="headerlink" href="#board-setup" title="Permalink to this headline">¶</a></h3>
<p><img alt="ZCU102 Board Connection Guide" src="../../_images/image27.jpeg" /></p>
<ol>
<li><p>Connect the power cable to the board.</p></li>
<li><p>Connect a USB micro cable between the Windows host machine and J2 <strong>USB JTAG</strong> connector on the target board.</p></li>
<li><p>Connect a USB micro cable to connector J83 on the target board with the Windows host machine. This is used for USB to serial transfer.</p></li>
<li><p>Ensure that the SW6 Switch on the bottom right is set to <strong>JTAG boot mode</strong> as shown in the following figure.</p>
<p><img alt="../../_images/image26.jpeg" src="../../_images/image26.jpeg" /></p>
</li>
<li><p>Power on the ZCU102 board.</p></li>
</ol>
</div>
<div class="section" id="connecting-the-serial-port">
<h3>Connecting the Serial Port<a class="headerlink" href="#connecting-the-serial-port" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Open your preferred serial communication utility for the COM port.</p>
<p><strong>Note</strong>: You can use any serial communication utility in your system. The Vitis IDE provides a serial terminal utility. We will use it throughout the tutorial; select <strong>Window → Show View → Vitis Serial Terminal</strong> in Vitis IDE to open it.</p>
<p><strong>Note</strong>: In Linux, root privilege is required to use UART.</p>
</li>
<li><p>Click the <strong>+</strong> button to set the serial configuration.</p>
<p><img alt="Vitis Terminal Window" src="../../_images/vitis_serial_terminal.png" /></p>
</li>
<li><p>To find the correct COM port in Windows, verify the port details in the <strong>Device Manager</strong>. In Linux, check the COM port in <code class="docutils literal notranslate"><span class="pre">/dev</span></code>.</p>
<p>MPSoC UART-0 corresponds to the COM port with Interface-0. Windows Device Manager provides mapping between Interface-x and COM-x.</p>
<p><img alt="Windows Device Manager" src="../../_images/image292.png" /></p>
<p>In the above example, use <strong>COM5</strong> for Interface-0 and baud rate <strong>115200</strong>.</p>
</li>
<li><p>From the <strong>Port</strong> dropdown menu, select the port number for Interface-0 (<strong>COM5</strong> in this example).</p>
<p><img alt="../../_images/vitis_serial_terminal_connect.png" src="../../_images/vitis_serial_terminal_connect.png" /></p>
</li>
<li><p>Keep the other settings as-is and click <strong>OK</strong> to connect. The connection status is shown in the Vitis Serial Terminal window.</p>
<p><img alt="../../_images/vitis_serial_terminal_connected.png" src="../../_images/vitis_serial_terminal_connected.png" /></p>
</li>
</ol>
</div>
<div class="section" id="creating-a-hello-world-application-on-arm-cortex-a53">
<h3>Creating a Hello World Application on Arm Cortex-A53<a class="headerlink" href="#creating-a-hello-world-application-on-arm-cortex-a53" title="Permalink to this headline">¶</a></h3>
<p>To send the “Hello World” string to the UART0 peripheral, follow these steps:</p>
<ol class="simple">
<li><p>Select <strong>File → New → Application Project</strong>. The Create New Application Project wizard opens.</p></li>
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>Use the information in the table below to make your selections in
the wizard screens.</p></li>
<table>
<thead>
<tr class="header">
<th>Screen</th>
<th>System Properties</th>
<th>Settings</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Platform</td>
<td>Select platform from repository</td>
<td>zcu102_edt</td>
</tr>
<tr class="even">
<td>Application project details</td>
<td>Application project name</td>
<td>hello_a53</td>
</tr>
<tr class="odd">
<td></td>
<td>System project name</td>
<td>hello_system</td>
</tr>
<tr class="even">
<td></td>
<td>Target processor</td>
<td>psu_cortexa53_0</td>
</tr>
<tr class="odd">
<td>Domain</td>
<td>Domain</td>
<td>standalone on psu_cortexa53_0</td>
</tr>
<tr class="even">
<td>Templates</td>
<td>Available templates</td>
<td>Hello World</td>
</tr>
</tbody>
</table>
<p>The Vitis IDE creates the **hello_a53_system** project in the Explorer view. **hello_a53** sits inside **hello_a53_system**.</p></li>
</div>
</div>
<div class="section" id="running-hello-world-on-the-board">
<h3>Running Hello World on the Board<a class="headerlink" href="#running-hello-world-on-the-board" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Right-click the <strong>hello_a53 application project</strong> and select <strong>Build</strong> to build the application.</p></li>
<li><p>Right-click <strong>hello_a53</strong> and select <strong>Run as → Run Configurations</strong>.</p></li>
<li><p>Right-click <strong>Xilinx Application Debugger</strong> and click <strong>New Configuration</strong>.</p>
<p>The Vitis IDE creates the new run configuration, named <code class="docutils literal notranslate"><span class="pre">Debugger_hello_a53-Default</span></code>.</p>
<p>The configurations associated with the application are pre-populated
in the Main page of the launch configurations.</p>
</li>
<li><p>Click the <strong>Target Setup</strong> page to review the settings.</p>
<blockquote>
<div><p><strong>Note:</strong> The board should be in JTAG boot mode before power cycling.</p>
</div></blockquote>
</li>
<li><p>Power cycle the board.</p></li>
<li><p>Click <strong>Run</strong>.</p>
<p>Hello World appears on the serial communication utility in Terminal 1,
as shown in the following figure.</p>
<p><img alt="../../_images/image301.png" src="../../_images/image301.png" /></p>
<blockquote>
<div><p><strong>Note:</strong> No bitstream download is required for the above
software application to be executed on the Zynq UltraScale+ evaluation
board. The Arm Cortex-A53 quad-core is already present in the
processing system. Basic initialization of this system to run a simple
application is accomplised by the device initialization Tcl script.</p>
</div></blockquote>
</li>
<li><p>Power cycle the board and retain the same connections and board settings
for the next section.</p></li>
</ol>
<div class="section" id="what-just-happened">
<h4>What Just Happened?<a class="headerlink" href="#what-just-happened" title="Permalink to this headline">¶</a></h4>
<p>The application software sent the “Hello World” string to the UART0
peripheral of the PS section.</p>
<p>From UART0, the “Hello World” string goes byte-by-byte to the serial
terminal application running on the host machine, which displays it as
a string.</p>
</div>
<div class="section" id="one-step-further">
<h4>One Step Further<a class="headerlink" href="#one-step-further" title="Permalink to this headline">¶</a></h4>
<p>Could you create a “Hello World” application for Arm Cortex-R5F and launch it though JTAG?</p>
<p><strong>Hints</strong>:</p>
<ol class="simple">
<li><p>In the platform project, you will need to create a domain for the Arm Cortex-R5 processor.</p></li>
<li><p>In the New Project Wizard, remember to select the proper target processor.</p></li>
</ol>
<p>The full workflow is explained in the next example.</p>
</div>
</div>
</div>
<div class="section" id="additional-information">
<h2>Additional Information<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h2>
<p>See below for a definitions of some of the terms used in this chapter.</p>
<div class="section" id="domain">
<h3>Domain<a class="headerlink" href="#domain" title="Permalink to this headline">¶</a></h3>
<p>A domain can refer to the settings and files of a standalone BSP, a
Linux OS, a third-party OS/BSP such as FreeRTOS, or a component such as the
device tree generator.</p>
<p>You can create multiple applications to run on the domain. A domain is tied to a single processor or a cluster of isomorphic processors (for example: A53_0 or A53) in the platform.</p>
</div>
<div class="section" id="board-support-package">
<h3>Board Support Package<a class="headerlink" href="#board-support-package" title="Permalink to this headline">¶</a></h3>
<p>The board support package (BSP) is the support code for a given hardware platform or board that helps in basic initialization at power-up and helps software applications to be run on top of it. It can be specific to some operating systems with boot loader and device drivers.</p>
<blockquote>
<div><p><strong>Tip:</strong> To reset the BSP source, double-click <strong>platform.prj</strong>,
select a BSP in a domain, and click <strong>Reset BSP Source</strong>. This action
only resets the source files while settings are not touched. To change the target domain after
application project creation, double-click the <strong>project.prj</strong> file in Explorer view. In the Application Project Settings, select <strong>Domain → Domain change option → Drop-down Domain</strong>, then select the
available domains for this application.</p>
</div></blockquote>
</div>
<div class="section" id="standalone-bsp">
<h3>Standalone BSP<a class="headerlink" href="#standalone-bsp" title="Permalink to this headline">¶</a></h3>
<p>Standalone is a simple, low-level software layer. It provides access
to basic processor features such as caches, interrupts, and
exceptions, as well as the basic processor features of a hosted
environment. These basic features include standard input/output,
profiling, abort, and exit. It is a single-threaded semi-hosted
environment.</p>
</div>
</div>
<div class="section" id="example-4-running-the-hello-world-application-from-arm-cortex-r5">
<h2>Example 4: Running the “Hello World” Application from Arm Cortex-R5<a class="headerlink" href="#example-4-running-the-hello-world-application-from-arm-cortex-r5" title="Permalink to this headline">¶</a></h2>
<p>In this example, you will learn how to run a simple “Hello World” software application for the Arm Cortex-R5F processor in the JTAG mode using System Debugger in the Vitis IDE.</p>
<p>The application for Cortex-R5F needs a domain for cortexr5_0. You will create it in the zcu102_edt platform and reuse it for the new application. You will create the Cortex-R5F application with the updated zcu102_edt platform.</p>
<p>The hardware setup and serial console connection is the same as in Example 2.</p>
<div class="section" id="id1">
<h3>Input and Output Files<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Input:  zcu102_edt platform with standalone domain on Arm Cortex-A53</p></li>
<li><p>Output: zcu102_edt platform with standalone domain on Arm Cortex-A53 and Cortex-R5F processors</p></li>
</ul>
</div>
<div class="section" id="creating-a-standalone-bsp-domain-for-cortexr5-0">
<h3>Creating a Standalone BSP Domain for cortexr5_0<a class="headerlink" href="#creating-a-standalone-bsp-domain-for-cortexr5-0" title="Permalink to this headline">¶</a></h3>
<p>In this step, you will prepare for the next example design: running a “Hello World” application on Arm Cortex-R5. The first step is to create a standalone BSP domain for cortexr5_0 by performing the following steps:</p>
<ol class="simple">
<li><p>Double-click <code class="docutils literal notranslate"><span class="pre">platform.spr</span></code>. The platform opens in the Explorer view.</p></li>
<li><p>Click in the top-right corner to add a domain <img alt="Add Icon" src="../../_images/image311.png" />.</p></li>
<li><p>Create a domain with the following settings:</p></li>
<table border="1" class="docutils">
<thead>
<tr>
<th>System Properties</th>
<th>Setting or Command to Use</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>standalone_r5</td>
</tr>
<tr>
<td>Display name</td>
<td>standalone_r5</td>
</tr>
<tr>
<td>OS</td>
<td>Standalone</td>
</tr>
<tr>
<td>Version</td>
<td>Standalone (7.3)</td>
</tr>
<tr>
<td>Processor</td>
<td>psu_cortexr5_0</td>
</tr>
<tr>
<td>Supported Runtime</td>
<td>C/C++</td>
</tr>
<tr>
<td>Architecture</td>
<td>32-bit</td>
</tr>
</tbody>
</table></li>
<li><p>The Vitis IDE creates a new domain and <strong>standalone_r5</strong> appears under
the <strong>zcu102_edt</strong> platform.</p></li>
</ol>
<div class="section" id="id2">
<h4>What Just Happened?<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>The edt_zcu102_wrapper platform is, by default, assigned the default domain for psu_cortexa53_0. You created a new domain for cortexr5_0 in this platform..</p>
</div>
</div>
<div class="section" id="creating-a-hello-world-application-on-arm-cortex-r5f">
<h3>Creating a “Hello World” Application on Arm Cortex-R5F<a class="headerlink" href="#creating-a-hello-world-application-on-arm-cortex-r5f" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Select <strong>File → New → Application Project</strong>. The Create New Application Project wizard welcome screen opens.</p></li>
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>Use the information in the table below to make your selections in the wizard screens.</p></li>
<table>
<thead>
<tr class="header">
<th>Screen</th>
<th>System Properties</th>
<th>Settings</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Platform</td>
<td>Select platform from repository</td>
<td>zcu102_edt</td>
</tr>
<tr class="even">
<td>Application project details</td>
<td>Application project name</td>
<td>hello_r5</td>
</tr>
<tr class="odd">
<td></td>
<td>System project name</td>
<td>hello_system</td>
</tr>
<tr class="even">
<td></td>
<td>Target processor</td>
<td>psu_cortexr5_0</td>
</tr>
<tr class="odd">
<td>Domain</td>
<td>Domain</td>
<td>standalone_r5</td>
</tr>
<tr class="even">
<td>Templates</td>
<td>Available templates</td>
<td>Hello World</td>
</tr>
</tbody>
</table><p>The Vitis IDE creates the **hello_r5_system** project in the Explorer view. **hello_r5** sits inside **hello_r5_system**.</p></li>
<li><p>Select <strong>hello_r5_system</strong> and click the hammer icon in the toolbar to build the system project.</p></li>
</ol>
</div>
<div class="section" id="running-the-hello-world-application-on-arm-cortex-r5f">
<h3>Running the “Hello World” Application on Arm Cortex-R5F<a class="headerlink" href="#running-the-hello-world-application-on-arm-cortex-r5f" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Right-click <strong>hello_r5</strong> and select <strong>Run as → Run Configurations</strong>.</p></li>
<li><p>Right-click <strong>Xilinx Application Debugger</strong> and click <strong>New Configuration</strong>.</p>
<p>The Vitis IDE creates the new run configuration, named
Debugger_hello_r5-Default. The configurations associated with
the application are pre-populated in the Main page of the launch
configurations.</p>
</li>
<li><p>Click the <strong>Target Setup</strong> page and review the settings.</p>
<p>This file is exported when you create the platform using the Vitis
IDE; it contains the initialization information for the processing
system.</p>
</li>
<li><p>Click <strong>Run</strong>.</p>
<p><img alt="../../_images/image301.png" src="../../_images/image301.png" /></p>
<p>“Hello World” appears on the serial communication utility in Terminal 1, as shown in the following figure.</p>
<blockquote>
<div><p><strong>Note:</strong> No bitstream download is required for the above
software application to be executed on the Zynq UltraScale+ evaluation
board. The Arm Cortex-R5F dual core is already present on the board.
Basic initialization of this system to run a simple application is
accomplised by the device initialization Tcl script.</p>
</div></blockquote>
</li>
</ol>
</div>
</div>
<div class="section" id="example-5-create-a-bare-metal-system-application-project-in-the-vitis-ide">
<h2>Example 5: Create a Bare-Metal System Application Project in the Vitis IDE<a class="headerlink" href="#example-5-create-a-bare-metal-system-application-project-in-the-vitis-ide" title="Permalink to this headline">¶</a></h2>
<p>The Vitis IDE can organize application projects that need to run at the same time in one system project. This can come in useful in project organization and makes debugging easier when the Arm Cortex-A53 and Arm Cortex-R5F need to run simultaneously.</p>
<p>In this example, you will update the hello_system project created in Example 3:</p>
<ul class="simple">
<li><p>Modify the “Hello World” application source code</p></li>
<li><p>Import prepared source codes for Arm Cortex-R5F</p></li>
<li><p>Adjust the linker script</p></li>
</ul>
<div class="section" id="id3">
<h3>Input and Output Files<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Input:</p>
<ul>
<li><p>Platform: zcu102_edt with standalone domains for Arm Cortex-A53 and Arm Cortex-R5F</p></li>
<li><p>Source code for Arm Cortex-R5F: <a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master/docs/Introduction/ZynqMPSoC-EDT/ref_files/example5">ref_files/example5/testapp_r5.c</a></p></li>
</ul>
</li>
<li><p>Output:</p>
<ul>
<li><p>System project hello_system that includes hello_a53 and testapp_r5 applications</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="modifying-the-hello-a53-application-source-code">
<h3>Modifying the hello_a53 Application Source Code<a class="headerlink" href="#modifying-the-hello-a53-application-source-code" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Open the <strong>helloworld.c</strong> source file for the <strong>hello_a53</strong> application.</p>
<ul class="simple">
<li><p>In the Explorer view, double-click <strong>helloworld.c</strong> in <strong>hello_a53 → src</strong>.</p></li>
</ul>
</li>
<li><p>Modify the arguments in the print command, as shown below.</p>
<p><code class="docutils literal notranslate"><span class="pre">Print(&quot;Hello</span> <span class="pre">World</span> <span class="pre">from</span> <span class="pre">APU\n\r&quot;);</span></code></p>
<p><img alt="../../_images/image341.png" src="../../_images/image341.png" /></p>
</li>
<li><p>Save the changes:</p>
<ul class="simple">
<li><p>Press <strong>Ctrl + S</strong>, or click the save icon on the toolbar.</p></li>
</ul>
</li>
<li><p>Build the hello_a53 application:</p>
<ul class="simple">
<li><p>Right-click the <strong>hello_a53</strong> application and select <strong>Build Project</strong>.</p></li>
<li><p>Alternatively, it can be done by clicking the save button on the toolbar.</p></li>
</ul>
</li>
<li><p>Verify that the application is compiled and linked successfully:</p>
<ul class="simple">
<li><p>The console window report looks like the following:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="s1">&#39;Invoking: ARM v8 Print Size&#39;</span>
  <span class="n">aarch64</span><span class="o">-</span><span class="n">none</span><span class="o">-</span><span class="n">elf</span><span class="o">-</span><span class="n">size</span> <span class="n">hello_a53</span><span class="o">.</span><span class="n">elf</span>  <span class="o">|</span><span class="n">tee</span> <span class="s2">&quot;hello_a53.elf.size&quot;</span>
  <span class="n">text</span>	   <span class="n">data</span>	    <span class="n">bss</span>	    <span class="n">dec</span>	    <span class="nb">hex</span>	<span class="n">filename</span>
  <span class="mi">30212</span>	   <span class="mi">2048</span>	  <span class="mi">20676</span>	  <span class="mi">52936</span>	   <span class="n">cec8</span>	<span class="n">hello_a53</span><span class="o">.</span><span class="n">elf</span>
 <span class="s1">&#39;Finished building: hello_a53.elf.size&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <strong>hello_a53.elf</strong> file is generated in the <strong>hello_a53 → Debug</strong> folder.</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="creating-a-custom-bare-metal-application-for-an-arm-cortex-r5-based-rpu">
<h3>Creating a Custom Bare-Metal Application for an Arm Cortex-R5 Based RPU<a class="headerlink" href="#creating-a-custom-bare-metal-application-for-an-arm-cortex-r5-based-rpu" title="Permalink to this headline">¶</a></h3>
<p>You will now create a bare-metal application for Arm Cortex-R5F. The application source files are provided in the <code class="docutils literal notranslate"><span class="pre">ref_files/example5</span></code> directory. They will be imported in the next steps.</p>
<ol class="simple">
<li><p>Create an empty bare-metal application for Cortex-R5F Core 0 in the hello_system system project:</p>
<ul class="simple">
<li><p>In the Explorer View, select <strong>hello_system</strong>, right-click it, and select <strong>New Application Project</strong> to open the New Project wizard.</p></li>
<li><p>Use the information in the following table to make your selections in the wizard.</p></li>
</ul>
</li>
<table>
<thead>
<tr class="header">
<th>Screen</th>
<th>System Properties</th>
<th>Settings</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Application project details</td>
<td>Application project name</td>
<td>testapp_r5</td>
</tr>
<tr class="even">
<td></td>
<td>System project name</td>
<td>hello_system</td>
</tr>
<tr class="odd">
<td></td>
<td>Show all processors in hardware specification</td>
<td>check</td>
</tr>
<tr class="even">
<td></td>
<td>Target processor</td>
<td>psu_cortexr5_0</td>
</tr>
<tr class="odd">
<td>Domain</td>
<td>Domain</td>
<td>standalone_r5</td>
</tr>
<tr class="even">
<td>Templates</td>
<td>Available templates</td>
<td>Empty application</td>
</tr>
</tbody>
</table></li>
<li><p>Click <strong>Finish</strong>. The New Project wizard closes and the Vitis IDE creates the testapp_r5
application project in the hello_system system project.</p></li>
</ul>
<li><p>Import the prepared source code for <strong>testapp_r5</strong>:</p>
<ul class="simple">
<li><p>In the Explorer view, expand the <strong>hello_system</strong> project to find the <strong>testapp_r5</strong> project.</p></li>
<li><p>Right-click the <strong>testapp_r5</strong> and select <strong>Import Sources</strong> to open the Import view.</p></li>
<li><p>In the <strong>From directory</strong> field, select <strong>Browse</strong> and navigate to the design files folder (<a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master/docs/Introduction/ZynqMPSoC-EDT/ref_files/example5">ref_files/example5</a>).</p></li>
<li><p>Click <strong>OK</strong>.</p></li>
<li><p>Select the <strong>testapp.c file</strong>.</p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ul>
<p><img alt="Vitis import source files" src="../../_images/vitis_import_source.png" /></p>
</li>
<li><p>Open <strong>testapp_r5.c</strong> in to review the source code for this application:</p></li>
</ol>
<ul class="simple">
<li><p>Double-click <strong>testapp_r5.c</strong>.</p></li>
<li><p>The application configures the UART interrupt and sets the processor to WFI mode.</p></li>
</ul>
</div>
<div class="section" id="modifying-the-linker-script-for-testapp-r5">
<h3>Modifying the Linker Script for testapp_r5<a class="headerlink" href="#modifying-the-linker-script-for-testapp-r5" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>In the Explorer view, expand the <strong>testapp_r5 project</strong>.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory, double-click <strong>lscript.ld</strong> to open the linker
script for this project.</p></li>
<li><p>In the linker script, in Available Memory Regions, modify the following attributes for <strong>psu_r5_ddr_0_MEM_0</strong>:</p>
<ul class="simple">
<li><p>Base Address: 0x70000000</p></li>
<li><p>Size: 0x10000000</p></li>
</ul>
<p>The linker script modification is shown in following figure. The
following figure is for representation only. Actual memory regions might
vary in the case of isolation settings.</p>
<p><img alt="Linker Script View" src="../../_images/image362.png" /></p>
<p>This modification in the linker script ensures that the RPU bare-metal
application resides above 0x70000000 base address in the DDR, and
occupies no more than 256 MB of size.</p>
</li>
<li><p>Press <strong>Ctrl + S</strong> to save the changes.</p></li>
<li><p>Right-click the <strong>testapp_r5</strong> project and select <strong>Build Project</strong>.</p></li>
<li><p>Verify that the application is compiled and linked successfully, and that the <code class="docutils literal notranslate"><span class="pre">testapp_r5.elf</span></code> file has been generated in the <code class="docutils literal notranslate"><span class="pre">testapp_r5/Debug</span></code> folder.</p></li>
</ol>
</div>
<div class="section" id="modifying-the-board-support-package-for-testapp-r5">
<h3>Modifying the Board Support Package for testapp_r5<a class="headerlink" href="#modifying-the-board-support-package-for-testapp-r5" title="Permalink to this headline">¶</a></h3>
<p>The ZCU102 Evaluation kit has a USB-TO-QUAD-UART Bridge IC from
Silicon Labs (CP2108). This enables you to select a different UART
port for applications running on Cortex-A53 and Cortex-R5F cores. For
this example, let Cortex-A53 use the UART 0 by default, and send and
receive RPU serial data over UART 1. This requires a small
modification in the <code class="docutils literal notranslate"><span class="pre">r5_bsp</span></code> file.</p>
<ol>
<li><p>Open the platform details tab by double-clicking <strong>zcu102_edt → platform.spr</strong>.</p></li>
<li><p>Open the standalone domain BSP setting details for Cortex-R5F:</p>
<ul class="simple">
<li><p>Navigate to <strong>psu_cortexr5 → standalone_r5 → Board Support Package</strong>.</p></li>
<li><p>Click <strong>Modify BSP Settings</strong>.</p></li>
</ul>
</li>
<li><p>Change the UART settings for standalone_r5:</p>
<ul class="simple">
<li><p>Select the <strong>Standalone</strong> tab.</p></li>
<li><p>Change <strong>stdin</strong> to <strong>psu_uart_1</strong>.</p></li>
<li><p>Change <strong>stdout</strong> to <strong>psu_uart_1</strong>.</p></li>
</ul>
<p><img alt="../../_images/image37.png" src="../../_images/image37.png" /></p>
<ul class="simple">
<li><p>Click <strong>OK</strong>.</p></li>
</ul>
</li>
<li><p>Build the psu_cortexr5_0 domain and the testapp_r5 application.</p></li>
<li><p>Verify that the application is compiled and linked successfully and that the <code class="docutils literal notranslate"><span class="pre">testapp_r5.elf</span></code> has been generated in the <code class="docutils literal notranslate"><span class="pre">testapp_r5/Debug</span></code> folder.</p></li>
</ol>
</div>
<div class="section" id="running-the-hello-system-system-project-on-hardware">
<h3>Running the hello_system System Project on Hardware<a class="headerlink" href="#running-the-hello-system-system-project-on-hardware" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Set up the board as in Example Project 1:</p>
<ul class="simple">
<li><p>Connect the power and USB cables for UART and JTAG.</p></li>
<li><p>Set the boot mode to JTAG boot mode.</p></li>
<li><p>Power on.</p></li>
</ul>
</li>
<li><p>Connect the serial console for UART-0 and UART-1:</p>
<ul class="simple">
<li><p>Use the <a class="reference external" href="https://mobaxterm.mobatek.net/">MobaXterm</a> utility to connect multiple UART ports.</p></li>
<li><p>Open USB UART Interface-0 for UART-0 for APU.</p></li>
<li><p>Open USB UART Interface-1 for UART-1 for RPU.</p></li>
</ul>
</li>
<li><p>Run hello_system on hardware:</p>
<ul class="simple">
<li><p>Right-click <strong>hello_system</strong> in the Explorer window, and select <strong>Run As → Launch Hardware</strong>.</p></li>
<li><p>The message from MobaXterm shows prints from the APU and RPU.</p></li>
</ul>
<p><img alt="System Project Prints on Serial window" src="../../_images/system_project_print.png" /></p>
</li>
</ol>
</div>
<div class="section" id="id4">
<h3>What Just Happened?<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The Vitis tool uses JTAG to control the board, and performed the following tasks:</p>
<ul class="simple">
<li><p>Used FSBL to initialize the MPSoC.</p></li>
<li><p>Reset the system.</p></li>
<li><p>Enabled the RPU in split mode.</p></li>
<li><p>Downloaded the ELF file to Cortex-A53_0 and Cortex-R5F_0. Put processors in suspend mode.</p></li>
<li><p>Ran applications on both processors.</p></li>
<li><p>The application on APU printed on UART-0 and the application on RPU printed on UART-1.</p></li>
</ul>
<p>You can view the detailed steps by right-clicking <strong>hello_system</strong>, selecting <strong>Run As → Run Configurations</strong>, and viewing the Target Setup tab.</p>
<p><img alt="Vitis Run Configurations" src="../../_images/vitis_run_configurations.png" /></p>
</div>
</div>
<div class="section" id="reviewing-bootloader-projects-in-the-platform">
<h2>Reviewing Bootloader Projects in the Platform<a class="headerlink" href="#reviewing-bootloader-projects-in-the-platform" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reviewing-fsbl-in-the-platform">
<h3>Reviewing FSBL in the Platform<a class="headerlink" href="#reviewing-fsbl-in-the-platform" title="Permalink to this headline">¶</a></h3>
<p>To review the FSBL in the platform, follow these steps:</p>
<ol class="simple">
<li><p>In the Explorer view, navigate to zynqmp_fsbl by expanding the <strong>zcu102_edt</strong> platform to see the FSBL source code. You can edit this source for customizations. Build the platform after code modification.</p></li>
<li><p>The platform-generated FSBL is involved in PS initialization while launching standalone applications using JTAG.</p></li>
<li><p>This FSBL is created for the psu_cortexa53_0, but you can also re-target the FSBL to psu_cortexr5_0 using the re-target to psu_cortexr5_0 option in the zynqmp_fsbl domain settings.</p></li>
<li><p>The zynqmp_fsbl domain is created automatically if bootloader creation is enabled during platform creation.</p></li>
</ol>
</div>
<div class="section" id="reviewing-the-pmu-firmware-in-the-platform">
<h3>Reviewing the PMU Firmware in the Platform<a class="headerlink" href="#reviewing-the-pmu-firmware-in-the-platform" title="Permalink to this headline">¶</a></h3>
<p>To review the PMU firmware in the platform, follow these steps:</p>
<ol class="simple">
<li><p>In the Explorer view, navigate to zynqmp_pmufw by expanding the <strong>zcu102_edt</strong> platform to see the PMUFW source code.</p></li>
<li><p>The zynqmp_pmufw software project contains the source code of the PMU firmware for psu_pmu_0. Compile and run the firmware on psu_pmu_0.</p></li>
<li><p>The psu_pmu_0 processor domain is created automatically for the zynqmp_pmufw software project if bootloader creation is enabled during platform creation.</p></li>
</ol>
<p>In the <a class="reference internal" href="5-debugging-with-vitis-debugger.html"><span class="doc">next chapter</span></a>, you will learn about debugging standalone applications with the Vitis Debugger.</p>
<p>© Copyright 2017-2021 Xilinx, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p>http://www.apache.org/licenses/LICENSE-2.0</p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="5-debugging-with-vitis-debugger.html" class="btn btn-neutral float-right" title="Debugging Standalone Applications with the Vitis Debugger" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="3-system-configuration.html" class="btn btn-neutral float-left" title="Zynq UltraScale+ MPSoC Processing System Configuration with Vivado" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
  </div>	  
      </div>
    </section>


  




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>     	    
	    
	    
  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>